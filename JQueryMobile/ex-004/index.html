<!doctype html>
<html lang="en">
<head>
  <title>jQuery mobile with Google maps - Google maps jQuery plugin</title>
  <meta name="viewport" charset="utf-8">
  <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <link rel="shortcut icon" href="./favicon.ico">
  <link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css" /> 
  <style>
    #content {
      padding: 0px !important;
    }
  </style>
  <script src="http://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script src="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>
  <script src="https://maps.googleapis.com/maps/api/js?v=3.exp&signed_in=true"></script>
  <script>
     
var NPPos = { 'center': '1.333039, 103.775852', 'zoom': 17 };
    
$('#map_canvas').live('pageinit', function() {
  demo.add('places_1', function() {
    $('#map_canvas_3').gmap({'center': NPPos.center, 'zoom': NPPos.zoom, 'disableDefaultUI':true, 'callback': function() {
      var self = this;
      var control = self.get('control', function() {
        $(self.el).append('<div id="control"><div><input id="places-search" class="ui-bar-d ui-input-text ui-body-null ui-corner-all ui-shadow-inset ui-body-d ui-autocomplete-input" type="text"/></div></div>');
        self.autocomplete($('#places-search')[0], function(ui) {
          self.clear('markers');
          self.set('bounds', null);
          self.placesSearch({ 'location': ui.item.position, 'radius': '5000' }, function(results, status) {
            if ( status === 'OK' ) {
              $.each(results, function(i, item) {
                self.addMarker({ 'id': item.id, 'position': item.geometry.location, 'bounds':true }).click(function() {
                  self.openInfoWindow({'content': '<h4>'+item.name+'</h4>'}, this);
                });
              });
            }
          });
        });
        return $('#control')[0];
      });
      self.addControl(new control(), 1);
    }});
  }).load('places_1');
});

$('#places').live('pageshow', function() {
  demo.add('places_2', function() { $('#map_canvas_3').gmap('refresh'); }).load('places_2');
});
      
  </script>
</head>
<body>
  <div id="home" data-role="page">
    <div data-role="header">
      <h1>jQuery mobile with Google maps v3</h1>
    </div>

    <div data-role="content" id="content">
      <div id="map_canvas" style="height:100%"></div>
    </div>

    <div data-role="footer" data-position="fixed">
      <h3>Status</h3>
    </div>
  </div> 
</body>
</html>