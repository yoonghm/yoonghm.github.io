<!DOCTYPE html> <html lang="en"> <head> <title>Ngee Ann Polytechnic</title> <meta name="viewport" charset="utf-8"> <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"> <link rel="shortcut icon" href="./favicon.ico"> <link rel="stylesheet" href="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css"> <style>#content{padding:0!important}</style><script src="https://code.jquery.com/jquery-2.1.1.min.js"></script><script src="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script><script src="https://maps.googleapis.com/maps/api/js?v=3.exp&signed_in=true"></script><script src="./geolocationmarker-compiled.js"></script>*/ <script>function handleGeolocation(o){console.log("HandleGeolocation()"),geoMarker=new GeolocationMarker,geoMarker.setCircleOptions({fillColor:"#808080"}),poly=new google.maps.Polyline(polyOption1),poly.setMap(map),path=poly.getPath(),google.maps.event.addListener(geoMarker,"position_changed",function(){console.log("Accuracy: "+geoMarker.getAccuracy()),console.log("Position: "+geoMarker.getPosition()),path.push(geoMarker.getPosition())}),google.maps.event.addListener(geoMarker,"geolocation_error",function(o){alert("There was an error obtaining your position. Message: "+o.message)}),geoMarker.setMap(map)}function handleNoGeolocation(o){if(o);else;}function initMap(){var o={center:NPPos,zoom:17,mapTypeId:google.maps.MapTypeId.ROADMAP,mapTypeControl:!0,overviewMapControl:!0,panControl:!0,panControlOptions:{position:google.maps.ControlPosition.RIGHT_CENTER},rotateControl:!0,zoomControl:!0,zoomControlOptions:{style:google.maps.ZoomControlStyle.LARGE,position:google.maps.ControlPosition.RIGHT_CENTER},scaleControl:!0,streetViewControl:!0,streetViewControlOptions:{position:google.maps.ControlPosition.RIGHT_CENTER}};map=new google.maps.Map(document.getElementById("map_canvas"),o),infowindow=new google.maps.InfoWindow,map.data.loadGeoJson("./np.json");var e={fillColor:"green",strokeWeight:1,strokeColor:"blue"};map.data.setStyle(e),map.data.addListener("click",function(o){infowindow.setContent(o.feature.getProperty("content").join("")),infowindow.setPosition(o.latLng),infowindow.setOptions({pixelOffset:new google.maps.Size(0,-10)}),infowindow.open(map),google.maps.event.addListener(map,"click",function(){infowindow.close()})}),navigator.geolocation?navigator.geolocation.getCurrentPosition(handleGeolocation,handleNoGeolocation):handleNoGeolocation(!1)}function getRealContentHeight(){var o=$.mobile.activePage.find("div[data-role='header']:visible"),e=$.mobile.activePage.find("div[data-role='footer']:visible"),t=$.mobile.activePage.find("div[data-role='content']:visible:visible"),n=$(window).height(),i=n-o.outerHeight()-e.outerHeight();return t.outerHeight()-o.outerHeight()-e.outerHeight()<=n&&(i-=t.outerHeight()-t.height()),i}var map,NPPos=new google.maps.LatLng(1.333039,103.775852),infowindow,youPos,geoMarker,poly,polyOption1={strokeColor:"#000000",strokeOpacity:1,strokeWeight:3},path;$(document).on("pageshow","#mainpage",function(o,e){$("#content").height(getRealContentHeight()),initMap()}),$(window).resize(function(){$("#content").height(getRealContentHeight()),google.maps.event.trigger(map,"resize"),map.setCenter(NPPos)});</script></head><body> <div data-role="page" id="mainpage"> <div data-role="header"> <a href="#navSearch" class="ui-btn ui-icon-search ui-btn-icon-left ui-nodisc-icon ui-alt-icon ui-btn-icon-notext">Search</a> <h3>Welcome to Ngee Ann Polytechnic</h3> </div> <div data-role="panel" id="navSearch">  <div data-role="collapsible"> <h4>Buildings:</h4> <ul data-role="listview" data-filter="true"> <li><a href="#">Blk 1</a></li> <li><a href="#">Blk 4</a></li> <li><a href="#">Blk 5</a></li> <li><a href="#">Blk 6</a></li> <li><a href="#">Blk 7</a></li> <li><a href="#">Blk 8</a></li> <li><a href="#">Blk 16</a></li> <li><a href="#">Blk 18</a></li> <li><a href="#">Blk 20</a></li> <li><a href="#">Blk 22</a></li> <li><a href="#">Blk 23</a></li> <li><a href="#">Blk 25</a></li> <li><a href="#">Blk 27</a></li> <li><a href="#">Blk 31</a></li> <li><a href="#">Blk 34</a></li> <li><a href="#">Blk 35</a></li> <li><a href="#">Blk 37</a></li> <li><a href="#">Blk 39</a></li> <li><a href="#">Blk 40</a></li> <li><a href="#">Blk 43</a></li> <li><a href="#">Blk 44</a></li> <li><a href="#">Blk 46</a></li> <li><a href="#">Blk 47</a></li> <li><a href="#">Blk 50</a></li> <li><a href="#">Blk 51</a></li> <li><a href="#">Blk 52</a></li> <li><a href="#">Blk 53</a></li> <li><a href="#">Blk 50</a></li> <li><a href="#">Blk 53</a></li> <li><a href="#">Blk 54</a></li> <li><a href="#">Blk 56</a></li> <li><a href="#">Blk 58</a></li> <li><a href="#">Blk 68</a></li> <li><a href="#">Blk 71</a></li> <li><a href="#">Blk 72</a></li> <li><a href="#">Blk 73</a></li> <li><a href="#">Blk 80</a></li> <li><a href="#">Blk 81</a></li> <li><a href="#">Blk 82</a></li> <li><a href="#">Blk 83</a></li> <li><a href="#">Blk 90</a></li> <li><a href="#">Blk 92></a></li> <li><a href="#">Blk 94</a></li> <li><a href="#">SIT</a></li> </ul> </div>        </div> <div data-role="content" id="content"> <div id="map_canvas" style="height:100%"></div> </div> </div> </body> </html>
